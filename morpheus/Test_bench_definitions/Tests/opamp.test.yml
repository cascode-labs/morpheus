name: "opamp_test"
type: "test"

#scriptpath: '/PATH/TO/SKILL/SCRIPT'
#script: "SCRIPTNAME"



dictionary_variables:
- name: DUTLIB
  type: string #defaults?
  default: "DUTLIB"
  options: "[lib.name for lib in self.global_dict['ws'].dd.GetLibList()]"
  
- name: DUTCELL
  type: string #defaults?
  default: "DUTCELL"
  options: "[cell.name for cell in self.global_dict['ws'].dd.GetObj('{DUTLIB}').cells]"



variables:
  - name: "VDD"
    test: [Global,TEST1,TEST2]
    value: -3.8

  - name: "VCC"
    test: [Global,TEST1,TEST2]
    value: 3.8

tests:
  - name: "TEST1"
    schematic: opamp
    analysis:
        type: "dc"
        options: 
          - [sweep, Temperature]
          - [rangeType, Start-Stop]
          - [start, "-40"]
          - [stop, "125"]
          - [incrType, Automatic]
    equations:
    - name: "EQUATION_1"
      type: "DUT.vdd"
      equation: value(IS("/V_{DUT.vdd[0]!s}/MINUS") 27)

    - name: "Open Loop Gain"
      type: "DUT.vdd"
      equation: value(IS("/V_{DUT.vdd[0]!s}/MINUS") 27)

    - name: "VSS"
      type: "DUT.vss"
      equation: value(IS("/V_{DUT.vss[0]!s}/MINUS") 27)

    corners:
      - name: corner1
        vars:
          - name: "temp"
            value: "temp"
          - name: "temp2"
            value: "temp2"
      - name: corner2
  